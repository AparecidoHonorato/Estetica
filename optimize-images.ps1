# Script PowerShell para otimizar imagens PNG para WebP\n# Uso: powershell -ExecutionPolicy Bypass -File optimize-images.ps1\n\nWrite-Host \"üñºÔ∏è  Otimizador de Imagens - Lumena Est√©tica\" -ForegroundColor Cyan\nWrite-Host \"==========================================\" -ForegroundColor Cyan\nWrite-Host \"\"\n\n# Verificar se ImageMagick est√° instalado\n$magickPath = Get-Command magick -ErrorAction SilentlyContinue\nif (-not $magickPath) {\n    Write-Host \"‚ùå ImageMagick n√£o encontrado!\" -ForegroundColor Red\n    Write-Host \"Instale com: choco install graphicsmagick\" -ForegroundColor Yellow\n    Write-Host \"\"\n    Write-Host \"Ou use ferramentas online:\" -ForegroundColor Cyan\n    Write-Host \"  - Convertio: https://convertio.co/png-webp/\" \n    Write-Host \"  - TinyPNG: https://tinypng.com/\"\n    exit 1\n}\n\nWrite-Host \"‚úÖ ImageMagick encontrado\" -ForegroundColor Green\nWrite-Host \"\"\n\n# Configura√ß√µes\n$quality = 80\n$sourceDir = Get-Location\n$filesConverted = 0\n$totalSavedBytes = 0\n\nWrite-Host \"üîç Procurando arquivos PNG...\" -ForegroundColor Yellow\nWrite-Host \"\"\n\n# Encontrar e converter PNGs\n$pngFiles = Get-ChildItem -Path $sourceDir -Filter \"*.png\" -Recurse -Exclude @(\"node_modules\", \"dist\", \"build\")\n\nif ($pngFiles.Count -eq 0) {\n    Write-Host \"‚ÑπÔ∏è  Nenhum arquivo PNG encontrado\" -ForegroundColor Cyan\n    exit 0\n}\n\nforeach ($file in $pngFiles) {\n    $webpFile = $file.FullName -replace '\\.png$', '.webp'\n    \n    if (Test-Path $webpFile) {\n        Write-Host \"‚è≠Ô∏è  Pulando: $(Split-Path $file -Leaf) (WebP j√° existe)\" -ForegroundColor Gray\n        continue\n    }\n    \n    try {\n        Write-Host \"üì¶ Convertendo: $(Split-Path $file -Leaf)\" -ForegroundColor Cyan\n        \n        # Executar convers√£o\n        & magick convert $file.FullName -quality $quality $webpFile 2>$null\n        \n        if (Test-Path $webpFile) {\n            $originalSize = $file.Length\n            $compressedSize = (Get-Item $webpFile).Length\n            $savedBytes = $originalSize - $compressedSize\n            $percent = [math]::Round(($savedBytes / $originalSize) * 100)\n            $totalSavedBytes += $savedBytes\n            \n            Write-Host \"   ‚úÖ $(Split-Path $webpFile -Leaf) [economizados ${percent}% ($([math]::Round($savedBytes/1KB)) KB)]\" -ForegroundColor Green\n            $filesConverted++\n        } else {\n            Write-Host \"   ‚ùå Erro ao converter\" -ForegroundColor Red\n        }\n    } catch {\n        Write-Host \"   ‚ùå Erro: $_\" -ForegroundColor Red\n    }\n}\n\nWrite-Host \"\"\nWrite-Host \"========== RESUMO =========\" -ForegroundColor Cyan\nWrite-Host \"‚ú® Arquivos convertidos: $filesConverted\" -ForegroundColor Green\nWrite-Host \"üìä Total economizado: $([math]::Round($totalSavedBytes/1MB, 2)) MB\" -ForegroundColor Green\nWrite-Host \"\"\n\nif ($filesConverted -gt 0) {\n    Write-Host \"üéØ Pr√≥ximos passos:\" -ForegroundColor Yellow\n    Write-Host \"1. Revisar os arquivos .webp gerados: $(Split-Path $sourceDir -Leaf)\" \n    Write-Host \"2. Atualizar componentes para usar ResponsiveImage.jsx\"\n    Write-Host \"3. Testar performance: https://pagespeed.web.dev/\" \n    Write-Host \"\"\n    Write-Host \"üìö Documenta√ß√£o: OTIMIZACAO_IMAGENS.md\" -ForegroundColor Cyan\n} else {\n    Write-Host \"‚úÖ Nada para converter!\" -ForegroundColor Green\n}\n\nWrite-Host \"\"\nWrite-Host \"Pressione qualquer tecla para sair...\"\nRead-Host\n"